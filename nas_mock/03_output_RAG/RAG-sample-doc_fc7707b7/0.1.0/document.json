{
  "config_effective_path": "D:\\02_dev\\scripts\\transcribe-suite\\nas_mock\\03_output_RAG\\RAG-sample-doc_fc7707b7\\0.1.0\\config.effective.yaml",
  "config_effective_sha256": "d92e6ed82e2ab4fc5c5452e882327d4224ea00bcfa6d8c424427f007b293acb0",
  "config_snapshot": {
    "base_path": "C:\\Users\\brice\\AppData\\Local\\Temp\\pytest-of-brice\\pytest-66\\test_rag_export_idempotent0\\rag.yaml",
    "cli_overrides": {},
    "doc_override_path": null,
    "effective": {
      "chunks": {
        "llm_chunks_enabled": false,
        "overlap_tokens": 40,
        "target_tokens": 200
      },
      "citations": {
        "base_url": null,
        "markdown_format": "[Voir extrait]({url}) ({start_mmss}-{end_mmss})",
        "text_format": "{title} [{start_mmss}-{end_mmss}]",
        "url_template": "{base_url}?t={start_s}s"
      },
      "default_lang": "auto",
      "doc_id": {
        "fallback_hash_length": 12,
        "hash_length": 8,
        "slug_max_length": 72
      },
      "export_dir_prefix": "RAG-",
      "health": {
        "coverage_target_pct": 0.95,
        "encoding_sample_size": 16,
        "sample_queries": []
      },
      "index": {
        "enable_embeddings": false,
        "enable_sqlite": true
      },
      "logging": {
        "diff_stats": true,
        "log_dir": "C:/Users/brice/AppData/Local/Temp/pytest-of-brice/pytest-66/test_rag_export_idempotent0/rag-logs"
      },
      "output_dir": "C:/Users/brice/AppData/Local/Temp/pytest-of-brice/pytest-66/test_rag_export_idempotent0/rag-out",
      "quality": {
        "threshold_error": 0.45,
        "threshold_warn": 0.6
      },
      "schema_version": "0.1.0",
      "text_normalization": {
        "acronym_whitelist": [
          "IA",
          "HTML",
          "CSS",
          "API",
          "ChatGPT",
          "Claude"
        ],
        "embedding_view": {
          "enabled": true,
          "output_filename": "chunks_for_embedding.jsonl"
        },
        "glossary": [
          {
            "pattern": "(?i)cloud 4\\.5",
            "replacement": "Claude 4.5"
          }
        ]
      },
      "versioning": {
        "allow_force": true,
        "default_strategy": "error",
        "version_tag_format": "{doc_id}-{timestamp}"
      }
    }
  },
  "deterministic_mode": true,
  "doc_id": "sample-doc_fc7707b7",
  "doc_title": "sample_doc",
  "generated_at": "1970-01-01T00:00:00Z",
  "lang": "fr",
  "options": {
    "base_url": null,
    "force": true,
    "lang_override": null,
    "no_sqlite": false,
    "real_timestamps": false,
    "version_tag": null
  },
  "provenance": {
    "chunks": {
      "path": "generated",
      "sha256": null,
      "source": "segments_word_count"
    },
    "clean_text": {
      "path": "tests\\fixtures\\rag_sample\\work\\sample_doc\\05_polished.json",
      "sha256": "d1df249bb4b67b4c53c00668bc96e4863d613c3c2a080b08ea08bce88c69392b",
      "source": "05_polished.json"
    },
    "config": {
      "effective": {
        "path": "D:\\02_dev\\scripts\\transcribe-suite\\nas_mock\\03_output_RAG\\RAG-sample-doc_fc7707b7\\0.1.0\\config.effective.yaml",
        "sha256": "d92e6ed82e2ab4fc5c5452e882327d4224ea00bcfa6d8c424427f007b293acb0"
      },
      "sources": [
        {
          "label": "base",
          "path": "C:\\Users\\brice\\AppData\\Local\\Temp\\pytest-of-brice\\pytest-66\\test_rag_export_idempotent0\\rag.yaml",
          "sha256": "5f3892d695945ec1911bc3f700f3dbd5c6bceaf1000d0975d8c5189613cfe73f"
        }
      ]
    },
    "metrics": {
      "path": "tests\\fixtures\\rag_sample\\work\\sample_doc\\05_polished.json",
      "sha256": "d1df249bb4b67b4c53c00668bc96e4863d613c3c2a080b08ea08bce88c69392b",
      "source": "05_polished.json"
    },
    "segments": {
      "path": "tests\\fixtures\\rag_sample\\work\\sample_doc\\05_polished.json",
      "sha256": "d1df249bb4b67b4c53c00668bc96e4863d613c3c2a080b08ea08bce88c69392b",
      "source": "05_polished.json"
    }
  },
  "rag_schema_version": "0.1.0",
  "source_media_path": null,
  "sources": {
    "chunks": {
      "kind": "segments_word_count",
      "path": "generated"
    },
    "confidence": {
      "kind": "segments",
      "path": "tests\\fixtures\\rag_sample\\work\\sample_doc\\05_polished.json"
    },
    "segments": {
      "kind": "05_polished",
      "path": "tests\\fixtures\\rag_sample\\work\\sample_doc\\05_polished.json"
    },
    "text": {
      "kind": "polished",
      "path": "tests\\fixtures\\rag_sample\\work\\sample_doc\\05_polished.json"
    }
  },
  "stats": {
    "chunking": {
      "generated": true,
      "overlap_words": 40,
      "strategy": "segments_word_count",
      "target_words": 200
    },
    "confidence_summary": {
      "avg": 0.923,
      "max": 0.95,
      "min": 0.9,
      "p05": 0.9,
      "p95": 0.92
    },
    "config_hash": "95ec2b3be5b2738b2a79b59ca15ecc4d1c6081b3a233240049a80f5423b15430",
    "duration_s": 26.0,
    "nb_chunks": 1,
    "nb_segments": 3
  },
  "timestamps_policy": "epoch",
  "warnings": [
    "Texte .clean.txt introuvable: fallback sur 05_polished.json",
    "metrics.json absent: confiances globales approximatives",
    "chunks.jsonl absent: génération de nouveaux chunks",
    "Dossier TRANSCRIPT non trouvé pour ce document"
  ]
}
